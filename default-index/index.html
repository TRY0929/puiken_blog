<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.1.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/puiken_blog/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/puiken_blog/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/puiken_blog/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/puiken_blog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/puiken_blog/css/main.css">


<link rel="stylesheet" href="/puiken_blog/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/puiken_blog/lib/pace/pace-theme-minimal.min.css">
  <script src="/puiken_blog/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"try0929.github.io","root":"/puiken_blog/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Puiken&#39;s blog">
<meta property="og:url" content="https://try0929.github.io/puiken_blog/default-index/index.html">
<meta property="og:site_name" content="Puiken&#39;s blog">
<meta property="og:locale" content="ja_JP">
<meta property="article:author" content="Puiken">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://try0929.github.io/puiken_blog/default-index/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'ja'
  };
</script>

  <title>Puiken's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="ナビゲーションバーの切り替え">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/puiken_blog/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Puiken's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/puiken_blog/" rel="section"><i class="fa fa-home fa-fw"></i>ホーム</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/puiken_blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>アーカイブ</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/puiken_blog/categories/" rel="section"><i class="fa fa-th fa-fw"></i>カテゴリ</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="ja">
    <link itemprop="mainEntityOfPage" href="https://try0929.github.io/puiken_blog/posts/b5806a76/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/puiken_blog/images/avatar.gif">
      <meta itemprop="name" content="Puiken">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Puiken's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/puiken_blog/posts/b5806a76/" class="post-title-link" itemprop="url">ブロック整形コンテキスト（BFC）</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">投稿日</span>
              

              <time title="作成日：2024-03-07 10:18:49 / 修正日：14:42:14" itemprop="dateCreated datePublished" datetime="2024-03-07T10:18:49+09:00">2024-03-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">カテゴリ</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/puiken_blog/categories/css/" itemprop="url" rel="index"><span itemprop="name">css</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="単語数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">単語数：</span>
              <span>4k</span>
            </span>
            <span class="post-meta-item" title="読書の時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">読書の時間 &asymp;</span>
              <span>4 分</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="１、基本概念"><a href="#１、基本概念" class="headerlink" title="１、基本概念"></a>１、基本概念</h2><blockquote>
<p><strong>ブロック整形コンテキスト</strong> (block formatting context, BFC) は、ウェブページにおける CSS の視覚的なレンダリングの一部です。ブロックボックスのレイアウトが行われ、浮動要素が他の要素と相互作用する領域です。</p>
</blockquote>
<p>整形コンテキストはレイアウトに影響を与えますが、通常はレイアウトを変更するのではなく、位置決めと浮動要素の解消のために新しいブロック整形コンテキストを作成します。これは、新しいブロック整形コンテキストを確立する要素が次のようになるからです。</p>
<p>BFCは下記の特徴があります：</p>
<ol>
<li>BFC要素の中、ボックスは上から下まで垂直で並んでます；</li>
<li>ボックスの垂直距離はマージンに決められ、同じBFCに含まれている二つの接するボックスはマージン相殺が発生します；</li>
<li>BFC要素の中、全てのボックスの左側(margin-left)は容器の左側(border-left)と接する：<ul>
<li>BFCは浮動の要素と被らない；</li>
<li>BFC要素の高さを計算する時、通常フローにいる要素と浮動要素どちらでも計算に入れます。</li>
</ul>
</li>
</ol>
<h2 id="２、作成方法"><a href="#２、作成方法" class="headerlink" title="２、作成方法"></a>２、作成方法</h2><p>ブロック整形コンテキストは、以下のうちの少なくとも一つから生成されます。</p>
<ul>
<li>文書のルート要素 (<code>&lt;html&gt;</code>)</li>
<li>浮動要素 (<a target="_blank" rel="noopener" href="https://developer.mozilla.org/ja/docs/Web/CSS/float"><code>float</code></a> が <code>none</code> 以外である要素)</li>
<li>絶対位置指定の要素 (<a target="_blank" rel="noopener" href="https://developer.mozilla.org/ja/docs/Web/CSS/position"><code>position</code></a> が <code>absolute</code> または <code>fixed</code> である要素)</li>
<li>インラインブロック (<a target="_blank" rel="noopener" href="https://developer.mozilla.org/ja/docs/Web/CSS/display"><code>display</code></a><code>: inline-block</code> である要素)</li>
<li>表のセル (<a target="_blank" rel="noopener" href="https://developer.mozilla.org/ja/docs/Web/CSS/display"><code>display</code></a><code>: table-cell</code> を持つ要素。これは HTML の表のセルの既定値です)</li>
<li>表のキャプション (<a target="_blank" rel="noopener" href="https://developer.mozilla.org/ja/docs/Web/CSS/display"><code>display</code></a><code>: table-caption</code> を持つ要素。HTMLの、表のキャプションの既定値です)</li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/ja/docs/Web/CSS/display"><code>display</code></a><code>: table</code>, <code>table-row</code>, <code>table-row-group</code>, <code>table-header-group</code>, <code>table-footer-group</code> (つまりそれぞれ HTML の表、表の行、表の本体、表のヘッダー、表のフッターの既定値), <code>inline-table</code> のついた要素によって暗黙的に生成された無名の表のセル。</li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/ja/docs/Web/CSS/overflow"><code>overflow</code></a> の値が <code>visible</code> 以外であるブロック要素</li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/ja/docs/Web/CSS/display"><code>display</code></a><code>: flow-root</code></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/ja/docs/Web/CSS/contain"><code>contain</code></a><code>: layout</code>, <code>content</code>, <code>paint</code> の付いた要素</li>
<li>フレックスアイテム (<a target="_blank" rel="noopener" href="https://developer.mozilla.org/ja/docs/Web/CSS/display"><code>display</code></a><code>: flex</code> または <code>inline-flex</code> である要素の直接の子要素)、<a target="_blank" rel="noopener" href="https://developer.mozilla.org/ja/docs/Glossary/Flex_Container">フレックス</a>でも<a target="_blank" rel="noopener" href="https://developer.mozilla.org/ja/docs/Glossary/Grid_Container">グリッド</a>でも<a target="_blank" rel="noopener" href="https://developer.mozilla.org/ja/docs/Web/CSS/CSS_table">表</a>でもない場合</li>
<li>グリッドアイテム (<a target="_blank" rel="noopener" href="https://developer.mozilla.org/ja/docs/Web/CSS/display"><code>display</code></a><code>: grid</code> または <code>inline-grid</code> である要素の直接の子要素)、<a target="_blank" rel="noopener" href="https://developer.mozilla.org/ja/docs/Glossary/Flex_Container">フレックス</a>でも<a target="_blank" rel="noopener" href="https://developer.mozilla.org/ja/docs/Glossary/Grid_Container">グリッド</a>でも<a target="_blank" rel="noopener" href="https://developer.mozilla.org/ja/docs/Web/CSS/CSS_table">表</a>でもない場合</li>
<li>段組みコンテナー (<a target="_blank" rel="noopener" href="https://developer.mozilla.org/ja/docs/Web/CSS/column-count"><code>column-count</code></a> または <a target="_blank" rel="noopener" href="https://developer.mozilla.org/ja/docs/Web/CSS/column-width"><code>column-width</code></a> が <code>auto</code> ではない要素、 <code>column-count: 1</code> の要素も含む)</li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/ja/docs/Web/CSS/column-span"><code>column-span</code></a><code>: all</code> は、 <code>column-span: all</code> の要素が段組みコンテナーに含まれていなくても、常に新たな整形コンテキストを生成します。</li>
</ul>
<h2 id="３、目的（作用）"><a href="#３、目的（作用）" class="headerlink" title="３、目的（作用）"></a>３、目的（作用）</h2><p>BFCはいつも下記のために作成されます：</p>
<ul>
<li>内部の浮動要素を収めます。</li>
<li>外部の浮動要素を追いやります。</li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/ja/docs/Web/CSS/CSS_box_model/Mastering_margin_collapsing">マージンの相殺</a>を抑止します。</li>
</ul>
<h3 id="３-１、内部の浮動要素を収めます"><a href="#３-１、内部の浮動要素を収めます" class="headerlink" title="３.１、内部の浮動要素を収めます"></a>３.１、内部の浮動要素を収めます</h3><p>親容器はBFCになれば、内部の浮動要素のコンテンツの高さも親容器に計算されます。</p>
<p>以下の例では、<code>border</code>が適用された <code>&lt;div&gt;</code> の中に浮動要素があります。その <code>&lt;div&gt;</code> のコンテンツは浮動要素の横に並んだ状態になっています。浮動要素のコンテンツは横に並んだコンテンツよりも高さがあるため、<code>&lt;div&gt;</code> の境界線が浮動要素を貫通してしまいます。(浮動要素がフローから外れたので)</p>
<p>親容器<code>div</code>がBFCになったら、内部の浮動要素も高さの計算に入り、親容器の高さは変わります。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">section</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;float&quot;</span>&gt;</span>浮動ボックスです。<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>コンテナー内のコンテンツです。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">section</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">style</span>=<span class="string">&quot;overflow:auto&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;float&quot;</span>&gt;</span>浮動ボックスです。<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">code</span>&gt;</span>overflow:auto<span class="tag">&lt;/<span class="name">code</span>&gt;</span> のコンテナー内のコンテンツです。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">section</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display:flow-root&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;float&quot;</span>&gt;</span>浮動ボックスです。<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">code</span>&gt;</span>display:flow-root<span class="tag">&lt;/<span class="name">code</span>&gt;</span> のコンテナー内のコンテンツです。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">section</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">150px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">224</span> <span class="number">206</span> <span class="number">247</span>);</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">5px</span> solid rebeccapurple;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span><span class="selector-attr">[style]</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: aliceblue;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">5px</span> solid steelblue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.float</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">255</span> <span class="number">255</span> <span class="number">255</span> / <span class="number">50%</span>);</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid black;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/try0929/cdn/img/b5806a76_1.png" alt="image-20240306140213733"></p>
<h3 id="３-２、外部の浮動要素を除外する"><a href="#３-２、外部の浮動要素を除外する" class="headerlink" title="３.２、外部の浮動要素を除外する"></a>３.２、外部の浮動要素を除外する</h3><p>通常フローの要素は、要素以外の浮動要素と重なる確率があります。そのため、通常フローの要素をBFCにしたら、要素以外の要素と重なることはなくなります。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">section</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;float&quot;</span>&gt;</span>外部の浮動要素<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>通常<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">section</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;float&quot;</span>&gt;</span>外部の浮動要素<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display:flow-root&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">code</span>&gt;</span>display:flow-root<span class="tag">&lt;/<span class="name">code</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">section</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">150px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">224</span> <span class="number">206</span> <span class="number">247</span>);</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">5px</span> solid rebeccapurple;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span><span class="selector-attr">[style]</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: aliceblue;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">5px</span> solid steelblue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.float</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden; <span class="comment">/* required by resize:both */</span></span><br><span class="line">  <span class="attribute">resize</span>: both;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">25px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">255</span> <span class="number">255</span> <span class="number">255</span> / <span class="number">75%</span>);</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid black;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/try0929/cdn/img/b5806a76_2.png" alt="image-20240306140213733"></p>
<h3 id="３-３、マージンの相殺を抑止する"><a href="#３-３、マージンの相殺を抑止する" class="headerlink" title="３.３、マージンの相殺を抑止する"></a>３.３、マージンの相殺を抑止する</h3><p>通常フローの中にある二つのブロック要素があり、それぞれの垂直マージンは <code>10px</code> です。マージンが相殺されるため、両要素間の垂直方向のギャップは 10 ピクセルとなり、期待される 20 ピクセルにはなりません。</p>
<p>一つの要素をBFCに変えたら、新しい BFC を作成し、マージンの相殺を防いでいます。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;blue&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;outer&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;red&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.blue</span>,</span><br><span class="line"><span class="selector-class">.red</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">10px</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.blue</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: blue;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.red</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.outer</span> &#123;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">background</span>: transparent;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/try0929/cdn/img/b5806a76_3.png" alt="image-20240306140213733"></p>
<blockquote>
<p>参考　<a target="_blank" rel="noopener" href="https://developer.mozilla.org/ja/docs/Web/CSS/CSS_display/Block_formatting_context">Block_formatting_context</a></p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="ja">
    <link itemprop="mainEntityOfPage" href="https://try0929.github.io/puiken_blog/posts/70e88e60/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/puiken_blog/images/avatar.gif">
      <meta itemprop="name" content="Puiken">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Puiken's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/puiken_blog/posts/70e88e60/" class="post-title-link" itemprop="url">JavaScriptの継承について</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">投稿日</span>
              

              <time title="作成日：2024-03-06 14:42:36 / 修正日：15:47:17" itemprop="dateCreated datePublished" datetime="2024-03-06T14:42:36+09:00">2024-03-06</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">カテゴリ</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/puiken_blog/categories/JavaScript/" itemprop="url" rel="index"><span itemprop="name">JavaScript</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="単語数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">単語数：</span>
              <span>5.1k</span>
            </span>
            <span class="post-meta-item" title="読書の時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">読書の時間 &asymp;</span>
              <span>5 分</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="１、基本概念"><a href="#１、基本概念" class="headerlink" title="１、基本概念"></a>１、基本概念</h2><h3 id="１-１、JavaScriptの継承"><a href="#１-１、JavaScriptの継承" class="headerlink" title="１.１、JavaScriptの継承"></a>１.１、JavaScriptの継承</h3><p>継承において、 JavaScript が持っている構成要素はただひとつ、オブジェクトだけです。</p>
<p>それぞれのオブジェクトは、その<strong>プロトタイプ</strong>と呼ばれる別のオブジェクトへのリンクを持つプライベートプロパティを持っています。</p>
<p>そのプロトタイプオブジェクト自身もプロトタイプを持ち、 <code>null</code> をプロトタイプとするオブジェクトに到達するまで続きます。</p>
<p>定義上、 <code>null</code> はプロトタイプを持たず、この<strong>プロトタイプチェーン</strong>の最後のリンクとして機能します。</p>
<h3 id="１-２、JavaScriptのプロトタイプチェーン"><a href="#１-２、JavaScriptのプロトタイプチェーン" class="headerlink" title="１.２、JavaScriptのプロトタイプチェーン"></a>１.２、JavaScriptのプロトタイプチェーン</h3><p> JavaScript のオブジェクトは、プロトタイプオブジェクトへのリンクを持っています。</p>
<p>あるオブジェクトのプロパティにアクセスしようとすると、オブジェクトだけでなく、オブジェクトのプロトタイプ、プロトタイプのプロトタイプへと、一致する名前のプロパティが得られるか、<strong>プロトタイプチェーンの終端に到達するまで、プロパティの探索が行われます</strong>。</p>
<h2 id="２、継承方法"><a href="#２、継承方法" class="headerlink" title="２、継承方法"></a>２、継承方法</h2><h3 id="２-１、プロトタイプチェーン継承"><a href="#２-１、プロトタイプチェーン継承" class="headerlink" title="２.１、プロトタイプチェーン継承"></a>２.１、プロトタイプチェーン継承</h3><p>子オブジェクトのプロトタイプを<strong>親オブジェクトのインスタンス</strong>に指向する：<code>child.prototype = new father()</code>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//親コンストラクタ</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">father</span>(<span class="params">name</span>) &#123;</span><br><span class="line">	<span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">	<span class="variable language_">this</span>.<span class="property">colors</span> = [<span class="string">&#x27;red&#x27;</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//親にメソッドをあげる</span></span><br><span class="line">father.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sayName</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">///子コンストラクタ</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">son</span>(<span class="params">name,age</span>) &#123;</span><br><span class="line">	<span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 子オブジェクトのプロトタイプを親オブジェクトのインスタンスに指向する</span></span><br><span class="line">son.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title function_">father</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 継承の前に指定しますと、継承の時親のプロパティに覆われ、なくなります</span></span><br><span class="line">son.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sayAge</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">age</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> tmp1 = <span class="keyword">new</span> <span class="title function_">son</span>(<span class="string">&#x27;try&#x27;</span>,<span class="number">18</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(tmp1.<span class="property">colors</span>); <span class="comment">//&#x27;red&#x27;</span></span><br><span class="line">tmp1.<span class="title function_">sayAge</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> tmp2 = <span class="keyword">new</span> <span class="title function_">son</span>();</span><br><span class="line">tmp2.<span class="property">colors</span>.<span class="title function_">unshift</span>(<span class="string">&#x27;yellow&#x27;</span>); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(tmp1.<span class="property">colors</span>); <span class="comment">//&#x27;yellow&#x27;,&#x27;red&#x27;</span></span><br></pre></td></tr></table></figure>

<p>問題：</p>
<ol>
<li>親と子の間、プロパティはシェアできますが、**各子オブジェクトに自分のプロパティを持たせることができない：（tmp2でcolorsを変えたが、tmp1のcolorsも影響されている）</li>
<li>他の子オブジェクトに影響を与えずに一つの子オブジェクトに引数を渡すことができない：全ての継承が<code>son.prototype = new father();</code>でしてるので、これから<code>son</code>で新しいオブジェクトを作る時は全部影響されます。</li>
</ol>
<h3 id="２-２、コンストラクタとcallを使う"><a href="#２-２、コンストラクタとcallを使う" class="headerlink" title="２.２、コンストラクタとcallを使う"></a>２.２、コンストラクタとcallを使う</h3><p>プロトタイプ継承が上記二つの問題があるため、コンストラクタを使って解決できます。</p>
<p><strong>子オブジェクトのコンストラクタの中で親オブジェクトのコンストラクタ関数を実行する</strong>、これで子オブジェクトにも親オブジェクトの全てプロパティが貰えます。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">father</span>(<span class="params">name</span>) &#123;</span><br><span class="line">	<span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">	<span class="variable language_">this</span>.<span class="property">colors</span> = [<span class="string">&#x27;red&#x27;</span>];</span><br><span class="line">	<span class="variable language_">this</span>.<span class="property">test</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">		<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;test success&#x27;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">father.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sayName</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">son</span>(<span class="params">name,age</span>) &#123;</span><br><span class="line">	<span class="comment">//　これだけ追加しました</span></span><br><span class="line">	father.<span class="title function_">apply</span>(<span class="variable language_">this</span>);</span><br><span class="line">	<span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> tmp1 = <span class="keyword">new</span> <span class="title function_">son</span>(<span class="string">&#x27;try&#x27;</span>,<span class="number">18</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(tmp1.<span class="property">colors</span>); <span class="comment">//&#x27;red&#x27;</span></span><br><span class="line">tmp1.<span class="title function_">sayName</span>(); <span class="comment">//error!</span></span><br><span class="line">tmp1.<span class="title function_">test</span>(); <span class="comment">//OK</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> tmp2 = <span class="keyword">new</span> <span class="title function_">son</span>();</span><br><span class="line">tmp2.<span class="property">colors</span>.<span class="title function_">unshift</span>(<span class="string">&#x27;yellow&#x27;</span>); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(tmp1.<span class="property">colors</span>); <span class="comment">// &#x27;red&#x27;</span></span><br></pre></td></tr></table></figure>

<p>問題：</p>
<p>この方法で継承したオブジェクトは、<strong>親オブジェクトのコンストラクタの中で定義されたプロパティしか継承できません</strong>、上記コードの<code>father.prototype.sayName</code>で定義されたメソッドは子オブジェクトの中にはありません。</p>
<p>コードの再利用はできません。</p>
<h3 id="２-３、コンビ継承"><a href="#２-３、コンビ継承" class="headerlink" title="２.３、コンビ継承"></a>２.３、コンビ継承</h3><p>２.１と２.２はそれぞれ自分の欠点がありますが、二つの方法を合わせて使ったら問題が解消されます。</p>
<ul>
<li>プロトタイプ指定でプロトタイプのプロパティ（father.prototype&#x3D;…で定義された物）を継承；</li>
<li>コンストラクタで各子オブジェクト自分特有のプロパティを継承。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">father</span>(<span class="params">name</span>) &#123;</span><br><span class="line">	<span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">	<span class="variable language_">this</span>.<span class="property">colors</span> = [<span class="string">&#x27;red&#x27;</span>];</span><br><span class="line">	<span class="variable language_">this</span>.<span class="property">test</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">		<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;test success&#x27;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">father.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sayName</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">son</span>(<span class="params">name,age</span>) &#123;</span><br><span class="line">	father.<span class="title function_">apply</span>(<span class="variable language_">this</span>); <span class="comment">//一回目</span></span><br><span class="line">	<span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">&#125;</span><br><span class="line">son.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title function_">father</span>(); <span class="comment">//二回目</span></span><br><span class="line"><span class="keyword">var</span> tmp1 = <span class="keyword">new</span> <span class="title function_">son</span>(<span class="string">&#x27;try&#x27;</span>,<span class="number">18</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(tmp1.<span class="property">colors</span>); <span class="comment">//&#x27;red&#x27;</span></span><br><span class="line">tmp1.<span class="title function_">sayName</span>(); <span class="comment">//error!</span></span><br><span class="line">tmp1.<span class="title function_">test</span>(); <span class="comment">//OK</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> tmp2 = <span class="keyword">new</span> <span class="title function_">son</span>();</span><br><span class="line">tmp2.<span class="property">colors</span>.<span class="title function_">unshift</span>(<span class="string">&#x27;yellow&#x27;</span>); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(tmp1.<span class="property">colors</span>); <span class="comment">// &#x27;red&#x27;</span></span><br></pre></td></tr></table></figure>

<p>問題：</p>
<p>全ての利用に関する問題は解消されたが、この方法で<strong>親オブジェクトのコンストラクタを2回実行している</strong>ため、効率少し低く感じます。</p>
<h3 id="２-４、親オブジェクトのプロポタイプをコーピして渡す"><a href="#２-４、親オブジェクトのプロポタイプをコーピして渡す" class="headerlink" title="２.４、親オブジェクトのプロポタイプをコーピして渡す"></a>２.４、親オブジェクトのプロポタイプをコーピして渡す</h3><p>欲しい物は親オブジェクトのプロポタイプのコーピだけで、親オブジェクトのコンストラクタを二回実行する必要がなく、新たにオブジェクトを作り、プロトタイプを指定し、インスタンス化して子オブジェクトに渡すこともできます。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">object</span>(<span class="params">fa</span>) &#123;</span><br><span class="line">	<span class="comment">//浅いコピーを実施している</span></span><br><span class="line">	<span class="keyword">function</span> <span class="title function_">F</span>(<span class="params"></span>) &#123;&#125;; <span class="comment">//fatherのプロトタイプをゲットために作成した新しいオブジェクト</span></span><br><span class="line">	F.<span class="property"><span class="keyword">prototype</span></span> = fa; <span class="comment">//fatherのプロトタイプをゲット</span></span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">new</span> <span class="title function_">F</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">inheritPrototype</span>(<span class="params">son, father</span>) &#123;</span><br><span class="line">	<span class="keyword">var</span> prototype = <span class="title function_">object</span>(father.<span class="property"><span class="keyword">prototype</span></span>); <span class="comment">//プロトタイプをゲット</span></span><br><span class="line">	prototype.<span class="property">constructor</span> = son; <span class="comment">//プロトタイプを自分のコンストラクタに指定</span></span><br><span class="line">	son.<span class="property"><span class="keyword">prototype</span></span> = prototype; <span class="comment">//プロトタイプ継承</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">father</span>(<span class="params">name</span>) &#123;</span><br><span class="line">	<span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">	<span class="variable language_">this</span>.<span class="property">colors</span> = [<span class="string">&#x27;red&#x27;</span>];</span><br><span class="line">&#125;</span><br><span class="line">father.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sayName</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">son</span>(<span class="params">name,age</span>) &#123;</span><br><span class="line">	father.<span class="title function_">call</span>(<span class="variable language_">this</span>, name);</span><br><span class="line">	<span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">inheritPrototype</span>(son,father);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> tmp1 = <span class="keyword">new</span> <span class="title function_">son</span>(<span class="string">&#x27;try&#x27;</span>,<span class="number">19</span>);</span><br><span class="line">tmp1.<span class="property">colors</span>.<span class="title function_">unshift</span>(<span class="string">&#x27;yellow&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> tmp2 = <span class="keyword">new</span> <span class="title function_">son</span>(<span class="string">&#x27;tt&#x27;</span>,<span class="number">10</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(tmp2.<span class="property">colors</span>); <span class="comment">//&#x27;red&#x27;</span></span><br><span class="line">tmp2.<span class="title function_">sayName</span>(); <span class="comment">//tt</span></span><br></pre></td></tr></table></figure>

<p>この方法は、直接<code>Object.create()</code>関数で使えます。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;;</span><br><span class="line"><span class="comment">// a ---&gt; Object.prototype ---&gt; null</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> b = <span class="title class_">Object</span>.<span class="title function_">create</span>(a);</span><br><span class="line"><span class="comment">// b ---&gt; a ---&gt; Object.prototype ---&gt; null</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b.<span class="property">a</span>); <span class="comment">// 1 （継承）</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> c = <span class="title class_">Object</span>.<span class="title function_">create</span>(b);</span><br><span class="line"><span class="comment">// c ---&gt; b ---&gt; a ---&gt; Object.prototype ---&gt; null</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> d = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="literal">null</span>);</span><br><span class="line"><span class="comment">// d ---&gt; null （d はプロトタイプとして直接 null を持つオブジェクト）</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(d.<span class="property">hasOwnProperty</span>);</span><br><span class="line"><span class="comment">// undefined。 Object.prototype を継承していないため</span></span><br></pre></td></tr></table></figure>



<h2 id="３、サマリー"><a href="#３、サマリー" class="headerlink" title="３、サマリー"></a>３、サマリー</h2><p>JavaScript は Java や C++ から来た開発者にとっては少し戸惑うかもしれません。なぜなら、JavaScript はすべて動的で、すべて実行時であり、静的な型はまったくないからです。すべてがオブジェクト（インスタンス）か関数（コンストラクター）であり、関数自体も <code>Function</code> コンストラクターのインスタンスです。構文の構成要素である「クラス」でさえ、実行時にはコンストラクター関数に過ぎないのです。</p>
<p>JavaScript のすべてのコンストラクター関数は <code>prototype</code> という特別なプロパティを保有しており、このプロパティは <code>new</code> 演算子と組み合わせて動作します。プロトタイプオブジェクトへの参照は、新しいインスタンスの内部プロパティ <code>[[Prototype]]</code> にコピーされます。例えば、 <code>const a1 = new A()</code> とすると、 JavaScript は（オブジェクトをメモリー上で作成した後、 <code>this</code> を定義した関数 <code>A()</code> を実行する前に） <code>a1.[[Prototype]] = A.prototype</code> を設定します。その後、インスタンスのプロパティにアクセスするとき、 JavaScript はまずそのオブジェクトに直接存在するかどうかを調べ、存在しない場合は <code>[[Prototype]]</code> を探します。すなわち、 <code>a1.doSomething</code>, <code>Object.getPrototypeOf(a1).doSomething</code>, <code>Object.getPrototypeOf(Object.getPrototypeOf(a1)).doSomething</code> など、見つかるまで、あるいは <code>Object.getPrototypeOf</code> が <code>null</code> を返すまで再帰的に調べられます。これは、 <code>prototype</code> で定義されたすべてのプロパティが、事実上すべてのインスタンスで共有され、後で<code>prototype</code>の一部を変更しても、その変更が既存のすべてのインスタンスに現れることを意味します。</p>
<blockquote>
<p>参考 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/ja/docs/Web/JavaScript/Inheritance_and_the_prototype_chain">継承とプロトタイプチェーン</a></p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="ja">
    <link itemprop="mainEntityOfPage" href="https://try0929.github.io/puiken_blog/posts/3a04c871/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/puiken_blog/images/avatar.gif">
      <meta itemprop="name" content="Puiken">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Puiken's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/puiken_blog/posts/3a04c871/" class="post-title-link" itemprop="url">JSイベントバブル＆キャブチャー</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">投稿日</span>
              

              <time title="作成日：2024-03-06 13:48:25 / 修正日：15:53:15" itemprop="dateCreated datePublished" datetime="2024-03-06T13:48:25+09:00">2024-03-06</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">カテゴリ</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/puiken_blog/categories/JavaScript/" itemprop="url" rel="index"><span itemprop="name">JavaScript</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="単語数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">単語数：</span>
              <span>3.8k</span>
            </span>
            <span class="post-meta-item" title="読書の時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">読書の時間 &asymp;</span>
              <span>3 分</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="イベント三段階"><a href="#イベント三段階" class="headerlink" title="イベント三段階"></a>イベント三段階</h2><p>JavaScriptのイベントが発生する時、三つの段階があります。</p>
<ul>
<li>キャプチャー段階：一番上の要素（ウィンドウ要素）からターゲット要素まで配信する段階；</li>
<li>ターゲット段階：ターゲット要素に辿り、リスナーでバインドした関数が実行されます；</li>
<li>バブル段階：キャプチャー段階の逆で、ターゲット要素から一番上の親要素まで配信する段階。</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/try0929/cdn/img/image-20240306140213733.png" alt="image-20240306140213733"></p>
<h2 id="JavaScriptのaddEventListener"><a href="#JavaScriptのaddEventListener" class="headerlink" title="JavaScriptのaddEventListener"></a>JavaScriptのaddEventListener</h2><p>addEventListener関数はJavaScriptの基本的なイベントバインド方法で、書き方は：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">addEventListener</span>(type, listener);</span><br><span class="line"><span class="title function_">addEventListener</span>(type, listener, options);</span><br><span class="line"><span class="title function_">addEventListener</span>(type, listener, useCapture);</span><br></pre></td></tr></table></figure>

<h3 id="引数"><a href="#引数" class="headerlink" title="引数"></a>引数</h3><ul>
<li><p><code>type</code></p>
<p>対象とするイベントの種類を表す文字列です（click、touchなど）。</p>
</li>
<li><p><code>listener</code></p>
<p>指定された種類のイベントが発生するときに通知（<a target="_blank" rel="noopener" href="https://developer.mozilla.org/ja/docs/Web/API/Event"><code>Event</code></a> インターフェースを実装しているオブジェクト）を受け取るオブジェクト。これは <code>null</code> であるか、<code>handleEvent()</code> メソッドのあるオブジェクトか、JavaScript の関数の何れかでなければなりません。</p>
</li>
<li><p><code>options</code>(省略可)</p>
<p>対象のイベントリスナーの特性を指定する、オプションのオブジェクトです。次のオプションが使用できます。</p>
<ul>
<li><code>capture</code>(省略可)：論理値で、この型のイベントが DOM ツリーで下に位置する <code>EventTarget</code> に配信 (dispatch) される前に、登録された <code>listener</code> に配信されることを示します。指定されていない場合は、既定で <code>false</code> になります。</li>
<li><code>once</code> (省略可)：論理値で、 <code>listener</code> の呼び出しを一回のみのとしたいかどうかを値で指定します。 <code>true</code> を指定すると、 <code>listener</code> は一度実行された時に自動的に削除されます。指定されていない場合は、既定で <code>false</code> になります。</li>
<li><code>passive</code>(省略可)：論理値で、 <code>true</code> ならば、 <code>listener</code> で指定された関数が <a target="_blank" rel="noopener" href="https://developer.mozilla.org/ja/docs/Web/API/Event/preventDefault"><code>preventDefault()</code></a> を呼び出さないこを示します。呼び出されたリスナーが <code>preventDefault()</code> を呼び出すと、ユーザーエージェントは何もせず、コンソールに警告を出力します。指定されていない場合、既定で <code>false</code> になります。</li>
<li><code>signal</code>(省略可)：<code>AbortSignal</code> です。指定された <code>AbortSignal</code> オブジェクトの <code>abort()</code> メソッドが呼び出された時に、リスナーが削除されます。指定されていない場合は、<code>AbortSignal</code> がリスナーに関連付けられません。</li>
</ul>
</li>
<li><p><code>useCapture</code> (省略可)</p>
<p>論理値で、この型のイベントが、DOM ツリー内の下の <code>EventTarget</code> に配信される<em>前</em>に、登録された <code>listener</code> に配信されるかどうかを示します。ツリーを上方向にバブリングしているイベントは、キャプチャを使用するように指定されたリスナーを起動しません。イベントのバブリングとキャプチャは、両方の要素がそのイベントのハンドラーを登録している場合に、別の要素内に入れ子になっている要素で発生するイベントを伝播する 2 つの方法です。イベント伝播モードは、要素がイベントを受け取る順番を決定します。指定されていない場合、 <code>useCapture</code> は既定で <code>false</code> となります。</p>
<blockquote>
<p>詳細な説明は <a target="_blank" rel="noopener" href="https://www.w3.org/TR/DOM-Level-3-Events/#event-flow">DOM Level 3 Events</a> と <a target="_blank" rel="noopener" href="https://www.quirksmode.org/js/events_order.html#link4">JavaScript Event order</a> を参照してください。</p>
</blockquote>
</li>
</ul>
<h3 id="例"><a href="#例" class="headerlink" title="例"></a>例</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;wrapper&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;header&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;footer&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> wrapperEl = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#wrapper&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> headerEl = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#header&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> footerEl = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#footer&quot;</span>);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">wrapperClickHandler</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;wrapper click&#x27;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">headerClickHandler</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;header click&#x27;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">footerClickHandler</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;footer click&#x27;</span>);</span><br><span class="line">&#125;;</span><br><span class="line">wrapperEl.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, wrapperClickHandler); <span class="comment">//　useCapture未指定、デフォルトはfalse</span></span><br><span class="line">headerEl.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, headerClickHandler); <span class="comment">//　useCapture未指定、デフォルトはfalse</span></span><br><span class="line">footerEl.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, footerClickHandler); <span class="comment">//　useCapture未指定、デフォルトはfalse</span></span><br></pre></td></tr></table></figure>

<p>結果：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// click header</span></span><br><span class="line">header click</span><br><span class="line">wrapper click</span><br><span class="line"></span><br><span class="line"><span class="comment">// click footer</span></span><br><span class="line">footer click</span><br><span class="line">wrapper click</span><br></pre></td></tr></table></figure>

<p>useCaptureをtrueにしますと、結果は：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// click header</span></span><br><span class="line">wrapper click</span><br><span class="line">header click</span><br><span class="line"></span><br><span class="line"><span class="comment">// click footer</span></span><br><span class="line">wrapper click</span><br><span class="line">footer click</span><br></pre></td></tr></table></figure>

<p>上記で、出力順番は逆となっています。</p>
<h2 id="vueの例"><a href="#vueの例" class="headerlink" title="vueの例"></a>vueの例</h2><p>vueはデフォルトで<strong>バブリング</strong>段階で事件を実行しているので、順番は　子-&gt;親</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> @<span class="attr">click</span>=<span class="string">&quot;wrapperClick&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;header&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;headerClick&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;footer&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;footerClick&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">headerClick</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;header click&#x27;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">footerClick</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;footer click&#x27;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">wrapperClick</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;wrapper click&#x27;</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>結果：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// click header</span></span><br><span class="line">header click</span><br><span class="line">wrapper click</span><br><span class="line"></span><br><span class="line"><span class="comment">// click footer</span></span><br><span class="line">footer click</span><br><span class="line">wrapper click</span><br></pre></td></tr></table></figure>

<h3 id="バブルの阻止"><a href="#バブルの阻止" class="headerlink" title="バブルの阻止"></a>バブルの阻止</h3><p>バブルしてほしくない時(子要素のイベントが終わり、親要素のイベントがいらない時)、<code>.stop</code>か<code>stopPropagation</code>が使えます。</p>
<h4 id="stop"><a href="#stop" class="headerlink" title=".stop"></a>.stop</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> @<span class="attr">click</span>=<span class="string">&quot;wrapperClick&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;header&quot;</span> @<span class="attr">click.stop</span>=<span class="string">&quot;headerClick&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;footer&quot;</span> @<span class="attr">click.stop</span>=<span class="string">&quot;footerClick&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="stopPropagation"><a href="#stopPropagation" class="headerlink" title="stopPropagation"></a>stopPropagation</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">headerClick</span> = (<span class="params">event</span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;header click&#x27;</span>);</span><br><span class="line">  event.<span class="title function_">stopPropagation</span>();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">footerClick</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;footer click&#x27;</span>);</span><br><span class="line">  event.<span class="title function_">stopPropagation</span>();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">wrapperClick</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;wrapper click&#x27;</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>上記の一つで変えたら、出力は下記になります：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// click header</span></span><br><span class="line">header click</span><br><span class="line"></span><br><span class="line"><span class="comment">// click footer</span></span><br><span class="line">footer click</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="ja">
    <link itemprop="mainEntityOfPage" href="https://try0929.github.io/puiken_blog/posts/3bca534c/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/puiken_blog/images/avatar.gif">
      <meta itemprop="name" content="Puiken">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Puiken's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/puiken_blog/posts/3bca534c/" class="post-title-link" itemprop="url">hexoでクリックスタイルの変え方</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">投稿日</span>

              <time title="作成日：2024-03-01 15:02:07" itemprop="dateCreated datePublished" datetime="2024-03-01T15:02:07+09:00">2024-03-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">編集日</span>
                <time title="修正日：2024-03-06 21:07:08" itemprop="dateModified" datetime="2024-03-06T21:07:08+09:00">2024-03-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">カテゴリ</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/puiken_blog/categories/hexo/" itemprop="url" rel="index"><span itemprop="name">hexo</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="単語数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">単語数：</span>
              <span>1.4k</span>
            </span>
            <span class="post-meta-item" title="読書の時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">読書の時間 &asymp;</span>
              <span>1 分</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>マウスでクリックしたら、花火やハートが出てくる動画が実現できるサイトってかっこいいですね〜</p>
<p>と思いながら、自分のサイトでもそういう機能がほしくて作りました。</p>
<h2 id="1-クリックスタイルファイルを用意します"><a href="#1-クリックスタイルファイルを用意します" class="headerlink" title="1. クリックスタイルファイルを用意します"></a>1. クリックスタイルファイルを用意します</h2><p>今回私が入れたいのはクリックしたら、花火みたいな点が出てくるものなので、まずそれのJSでの実装ファイルを用意します。</p>
<p>実装ファイルは他の方の真似して書いてました。ファイルはローカルか、CDNに置くかどちらでも良いです。</p>
<ul>
<li>Githubに置いて、CDNのURLでインポートします；</li>
<li>ローカルに置いて、相対パスでインポートします。</li>
</ul>
<h2 id="2-Layoutで新しいテンプレートファイルを作成します"><a href="#2-Layoutで新しいテンプレートファイルを作成します" class="headerlink" title="2. Layoutで新しいテンプレートファイルを作成します"></a>2. Layoutで新しいテンプレートファイルを作成します</h2><p>レイアウトにはいろんなテンプレートがあり、その中に新しいswigでクリックスタイルのjsスクリプトをインポートします。</p>
<p>例：</p>
<ul>
<li><code>themes/next/layout/_custom/cursor.swig</code> ファイルを新規作成します；</li>
<li>中で下記のコードでスクリプトをインポートします：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// CDNのURLを使用する場合</span><br><span class="line">&#123;%- if theme.mouse_animation %&#125;</span><br><span class="line">  &#123;%- set mouse_animation_css_url = next_vendors(&#x27;//cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@3.0.8/js/maodian.js&#x27;) %&#125;</span><br><span class="line">  &lt;script src=&quot;&#123;&#123; mouse_animation_css_url &#125;&#125;&quot;&gt;&lt;/script&gt;</span><br><span class="line">&#123;%- endif %&#125;</span><br><span class="line"></span><br><span class="line">//　ローカルファイルを使用する場合（スクリプトファイルは/source/js/cursor.jsに置いてます）</span><br><span class="line">&#123;%- if theme.mouse_animation %&#125;</span><br><span class="line">  &#123;%- set mouse_animation_css_url = next_js(&#x27;/cursor.js&#x27;) %&#125;</span><br><span class="line">  &lt;script src=&quot;&#123;&#123; mouse_animation_css_url &#125;&#125;&quot;&gt;&lt;/script&gt;</span><br><span class="line">&#123;%- endif %&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>theme.mouse_animation</code>はテーマコンフィグファイルの中で定義されている変数で、そこで<code>true</code>を設定したらスクリプトファイルがインポートされます。</li>
</ul>
<h2 id="3-デフォルトレイアウトで新しいテンプレートをインポートします"><a href="#3-デフォルトレイアウトで新しいテンプレートをインポートします" class="headerlink" title="3. デフォルトレイアウトで新しいテンプレートをインポートします"></a>3. デフォルトレイアウトで新しいテンプレートをインポートします</h2><p>さっき新しいテンプレートを作成しましたが、まだ使われていないです。</p>
<p>クリックスタイルはサイトのどこでもあるので、<strong>全ての画面が必ず使うデフォルトテンプレートファイル</strong><code>_layout.swig</code>の中で新しいテンプレートファイルをインポートします。</p>
<p><code>_layout.swig</code>の中で下記のコードを追加します：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;%- include &#x27;_custom/cursor.swig&#x27; %&#125;</span><br></pre></td></tr></table></figure>

<p>ちなみに、スクリプトファイルの中で<code>document.body</code>を使っているため、<code>body</code>タッグの中でインクルードした方がおすすめです。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="ja">
    <link itemprop="mainEntityOfPage" href="https://try0929.github.io/puiken_blog/posts/10483/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/puiken_blog/images/avatar.gif">
      <meta itemprop="name" content="Puiken">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Puiken's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/puiken_blog/posts/10483/" class="post-title-link" itemprop="url">サイトでマウスポイントイコンの変更</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">投稿日</span>

              <time title="作成日：2024-03-01 09:09:57" itemprop="dateCreated datePublished" datetime="2024-03-01T09:09:57+09:00">2024-03-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">編集日</span>
                <time title="修正日：2024-03-02 10:47:23" itemprop="dateModified" datetime="2024-03-02T10:47:23+09:00">2024-03-02</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">カテゴリ</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/puiken_blog/categories/css/" itemprop="url" rel="index"><span itemprop="name">css</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="単語数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">単語数：</span>
              <span>683</span>
            </span>
            <span class="post-meta-item" title="読書の時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">読書の時間 &asymp;</span>
              <span>1 分</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>個人サイトでマウスのポイント変更できたらとてもかっこいいなと思って、自分の好みのイコンにしてみました。下記は手順となります。</p>
<h2 id="1-条件を満たすiconファイルを用意します"><a href="#1-条件を満たすiconファイルを用意します" class="headerlink" title="1. 条件を満たすiconファイルを用意します"></a>1. 条件を満たすiconファイルを用意します</h2><p>マウスポイントイコンは少なくとも（分けたくない人もいますが、分けた方がおすすめです）２種類あります：</p>
<ul>
<li>クリックイコン；</li>
<li>テクストコピーイコン；</li>
</ul>
<p>まずはイコンにしたい写真を用意します、２つの条件が必要となります：</p>
<ul>
<li>拡張子は<code>.ico</code>か<code>.cur</code>です。必須ではないが、オフィシャルにはその二つがおすすめです。</li>
<li>サイズは <code>32*32</code>　です。違う場合だったら画面で表示できなくなる可能性があります。</li>
</ul>
<h2 id="2-写真をプロジェクトにインポートします"><a href="#2-写真をプロジェクトにインポートします" class="headerlink" title="2. 写真をプロジェクトにインポートします"></a>2. 写真をプロジェクトにインポートします</h2><p>まず用意した写真を<strong>プロジェクトローカルか、CDNの上か</strong>に置きます、前者の場合では相対パスでインポートし、後者ではCDNリンクでインポートします。</p>
<blockquote>
<p>CDNの場合では、jsdelivrがおすすめです。<a href="">詳細</a></p>
</blockquote>
<p>そして、cssのcursorアトリビュートを使い、マウスポイントを設定します：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span>, <span class="selector-tag">li</span>, <span class="selector-tag">span</span>, <span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">https://cdn.jsdelivr.net/gh/try0929/cdn/img/newText1.cur</span>),auto;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: transparent;</span><br><span class="line">  <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">https://cdn.jsdelivr.net/gh/try0929/cdn/img/newLoadCur.cur</span>),auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>autoはマウスポイントのデフォルトスタイル、必ず書きます。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="ja">
    <link itemprop="mainEntityOfPage" href="https://try0929.github.io/puiken_blog/posts/36779/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/puiken_blog/images/avatar.gif">
      <meta itemprop="name" content="Puiken">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Puiken's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/puiken_blog/posts/36779/" class="post-title-link" itemprop="url">jsdelivrの使用</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">投稿日</span>

              <time title="作成日：2024-02-29 17:55:48" itemprop="dateCreated datePublished" datetime="2024-02-29T17:55:48+09:00">2024-02-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">編集日</span>
                <time title="修正日：2024-03-02 10:49:41" itemprop="dateModified" datetime="2024-03-02T10:49:41+09:00">2024-03-02</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">カテゴリ</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/puiken_blog/categories/cdn/" itemprop="url" rel="index"><span itemprop="name">cdn</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="単語数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">単語数：</span>
              <span>971</span>
            </span>
            <span class="post-meta-item" title="読書の時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">読書の時間 &asymp;</span>
              <span>1 分</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>jsdelivrは無料でgithubの静的なファイルを早くとってくれるサイトで、自分のサイトでインポートする時はとても便利です。</p>
<h2 id="1-jsdelivrのURLフォーマット"><a href="#1-jsdelivrのURLフォーマット" class="headerlink" title="1. jsdelivrのURLフォーマット"></a>1. jsdelivrのURLフォーマット</h2><p>jsdelivrでファイルをインポートする時のURLは下記のフォーマットとなります：</p>
<p><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/">https://cdn.jsdelivr.net/gh/</a>&lt;Githubユーザ名&gt;&#x2F;&lt;レポジトリー名&gt;@バージョン名&#x2F;ファイルのパス</p>
<p>バージョン名は必須ではないです、バージョン名がない時は最新の資源をインポートします。</p>
<p>例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://cdn.jsdelivr.net/gh/jquery/jquery@3.2.1/dist/jquery.min.js</span><br></pre></td></tr></table></figure>



<h2 id="2-資源ファイルをgithubに置きます"><a href="#2-資源ファイルをgithubに置きます" class="headerlink" title="2. 資源ファイルをgithubに置きます"></a>2. 資源ファイルをgithubに置きます</h2><p>githubに新しいレポジトリーを作り、静的資源を置くことがおすすめです。</p>
<p>例えば、cdnという名前のレポジトリーを作成し、その中には下記のフォルダーがあります。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── css               </span><br><span class="line">├── fonts               </span><br><span class="line">├── img               </span><br><span class="line">└── js</span><br></pre></td></tr></table></figure>

<p>imgの下に、textCur.curという名前のファイルが置いてあります。</p>
<h2 id="3-jsdelivrのURLでファイルをプロジェクトにインポートします"><a href="#3-jsdelivrのURLでファイルをプロジェクトにインポートします" class="headerlink" title="3. jsdelivrのURLでファイルをプロジェクトにインポートします"></a>3. jsdelivrのURLでファイルをプロジェクトにインポートします</h2><p>下記のパスでファイルをインポートします：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://cdn.jsdelivr.net/gh/try0929/cdn/img/textCur.cur</span><br></pre></td></tr></table></figure>



<h2 id="4-キャッシュ更新"><a href="#4-キャッシュ更新" class="headerlink" title="4. キャッシュ更新"></a>4. キャッシュ更新</h2><p>jsdelivrに置いてるファイルにはキャッシュ機能があります。</p>
<p>簡単に言うと、githubのファイルを更新しても、CDNファイルがすぐ更新されない可能性があるため、jsdelivrのURLでインポートしたファイルが古いファイルになるかもしれません。</p>
<p>解決方法は、強制的にキャッシュを更新すること：ファイルの名前を変えてもう一回PUSHします。</p>
<p>例えば：</p>
<ul>
<li>githubレポジトリーにold.jpgがあり、old.jpgを更新してpushして、Githubのファイルが新しくなり、<code>https://cdn.jsdelivr.net/gh/.../old.jpg</code>でインポートするファイルが変わらないです；</li>
<li>同じファイルを<code>new.jpg</code>をリネームし、pushしたら、Githubもjsdelivrに置いてるCDNファイルも更新されます。</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="ja">
    <link itemprop="mainEntityOfPage" href="https://try0929.github.io/puiken_blog/posts/44223/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/puiken_blog/images/avatar.gif">
      <meta itemprop="name" content="Puiken">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Puiken's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/puiken_blog/posts/44223/" class="post-title-link" itemprop="url">hexo原理まとめ</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">投稿日</span>

              <time title="作成日：2024-02-29 11:27:01" itemprop="dateCreated datePublished" datetime="2024-02-29T11:27:01+09:00">2024-02-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">編集日</span>
                <time title="修正日：2024-03-02 10:47:00" itemprop="dateModified" datetime="2024-03-02T10:47:00+09:00">2024-03-02</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">カテゴリ</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/puiken_blog/categories/hexo/" itemprop="url" rel="index"><span itemprop="name">hexo</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="単語数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">単語数：</span>
              <span>3.6k</span>
            </span>
            <span class="post-meta-item" title="読書の時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">読書の時間 &asymp;</span>
              <span>3 分</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p><a target="_blank" rel="noopener" href="https://hexo.io/docs/index.html">hexoオフィシャルサイト</a></p>
<h2 id="What-is-Hexo"><a href="#What-is-Hexo" class="headerlink" title="What is Hexo?"></a>What is Hexo?</h2><p>Hexo is a fast, simple and powerful blog framework. You write posts in <a target="_blank" rel="noopener" href="http://daringfireball.net/projects/markdown/">Markdown</a> (or other markup languages) and Hexo generates static files with a beautiful theme in seconds.</p>
</blockquote>
<p>簡単に言えば、hexoはブログを作成するフレームワークであり、makedownで文章をレンダーし、画面に表示させされます。</p>
<h2 id="1-hero-generate：静的なファイルの生成"><a href="#1-hero-generate：静的なファイルの生成" class="headerlink" title="1. hero generate：静的なファイルの生成"></a>1. hero generate：静的なファイルの生成</h2><p>上記の指令はデータファイルと画面ファイルを合わせ、静的なファイルを生成できます。</p>
<p>まずテーマフォルダーのsourceフォルダー（js、css、imgなどのファイル）を読み、インデックスを建てます。それを基づいてpublicフォルダーのファイルを生成します。</p>
<p>生成したpublicフォルダーの中にはhtml、js、css、imgなどの静的なファイルがあり、index.htmlをエンターファイルとしてサイトにはいれます。</p>
<h2 id="2-hero-deploy：プロジェクトのデプロイ"><a href="#2-hero-deploy：プロジェクトのデプロイ" class="headerlink" title="2. hero deploy：プロジェクトのデプロイ"></a>2. hero deploy：プロジェクトのデプロイ</h2><p>_config.ymlファイルの中に配置しているgitレポジトリー及びcodingのurlで、publicフォルダーの内容をgithubかcodingにアップロードします。（githubにpagesというサービスがあり、それで画面を表示できます）</p>
<p>もちろん、生成したpublicフォルダーを自分のサーバーにデプロイしても大丈夫です。</p>
<h2 id="3-hexoのテンプレートエンジン"><a href="#3-hexoのテンプレートエンジン" class="headerlink" title="3. hexoのテンプレートエンジン"></a>3. hexoのテンプレートエンジン</h2><blockquote>
<p>テンプレートエンジンとは、画面とデータを分離させることです。</p>
<p>画面の動的な部分を抽出し、データとして他のところで管理することで、画面とデータの分離ができます。</p>
</blockquote>
<p>source＋themes -&gt; public</p>
<p>sourceフォルダーがデータベース、themesフォルダーが画面表示として考えられます。</p>
<p>それぞれを作成し、hexo generateを実行し、二つの内容をpublicとして出力します。</p>
<p>テンプレートファイルはthemes&#x2F;layoutの下に配置されています。例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── _custom                           // 通常レイアウト</span><br><span class="line">├── _layout.swig                      // デフォルトレイアウト</span><br><span class="line">├── _macro                            // プラグインレイアウト</span><br><span class="line">├── _partials                         // パートレイアウト</span><br><span class="line">├── _scripts                          // スクリプトレイアウト</span><br><span class="line">├── _third-party                      // </span><br><span class="line">├── archive.swig                      // アーカイブレイアウト</span><br><span class="line">├── category.swig                     // 分類レイアウト</span><br><span class="line">├── index.swig                        // インデックスレイアウト</span><br><span class="line">├── page.swig                         // 他のレイアウト</span><br><span class="line">├── photo.swig                        // 写真レイアウト</span><br><span class="line">├── post.swig                         // 文章レイアウト</span><br><span class="line">├── schedule.swig                     // scheduleレイアウト</span><br><span class="line">└── tag.swig                          // タッグレイアウト</span><br></pre></td></tr></table></figure>

<blockquote>
<p>全てのページがレイアウトを指定していない時、デフォルトレイアウト_layout.swigを使用します。ページな中でレイアウトの使用状況を定義ですます（使うかどうか）。</p>
</blockquote>
<p>新しくポスト及びページを作成する時にレイアウトも指定できます。<code>hexo new [layout] &lt;title&gt;</code></p>
<p>下記はデフォルトレイアウト_layout.swigを例として説明します。</p>
<p>このレイアウトにも他のレイアウトをインポートし、一部の表示として使われています。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&#123;% extends &#x27;_layout.swig&#x27; %&#125;</span><br><span class="line">&#123;% import &#x27;_macro/post.swig&#x27; as post_template %&#125;</span><br><span class="line">&#123;% import &#x27;_macro/sidebar.swig&#x27; as sidebar_template %&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#123;% block title %&#125; &#123;&#123; page.title &#125;&#125; | &#123;&#123; config.title &#125;&#125; &#123;% endblock %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% block page_class %&#125;page-post-detail&#123;% endblock %&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#123;% block content %&#125;</span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;posts&quot;</span> <span class="attr">class</span>=<span class="string">&quot;posts-expand&quot;</span>&gt;</span></span><br><span class="line">    &#123;&#123; post_template.render(page) &#125;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;post-spread&quot;</span>&gt;</span></span><br><span class="line">      &#123;% if theme.jiathis %&#125;</span><br><span class="line">        &#123;% include &#x27;_partials/share/jiathis.swig&#x27; %&#125;</span><br><span class="line">      &#123;% elseif theme.baidushare %&#125;</span><br><span class="line">        &#123;% include &#x27;_partials/share/baidushare.swig&#x27; %&#125;</span><br><span class="line">      &#123;% elseif theme.add_this_id %&#125;</span><br><span class="line">        &#123;% include &#x27;_partials/share/add-this.swig&#x27; %&#125;</span><br><span class="line">      &#123;% elseif theme.duoshuo_shortname and theme.duoshuo_share %&#125;</span><br><span class="line">        &#123;% include &#x27;_partials/share/duoshuo_share.swig&#x27; %&#125;</span><br><span class="line">      &#123;% endif %&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% block sidebar %&#125;</span><br><span class="line">  &#123;&#123; sidebar_template.render(true) &#125;&#125;</span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#123;% block script_extra %&#125;</span><br><span class="line">  &#123;% include &#x27;_scripts/pages/post-details.swig&#x27; %&#125;</span><br><span class="line">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure>

<p>テンプレートの中で使われているデータは<code>hexo generate</code>を実行する時に入れられています。</p>
<h2 id="4-コンフィグファイルデータの使用"><a href="#4-コンフィグファイルデータの使用" class="headerlink" title="4. コンフィグファイルデータの使用"></a>4. コンフィグファイルデータの使用</h2><p>hexoのコンフィグファイル<code>_config.yml</code>はyml文法を使い、ブログのタイトルやサブタイトルなどを定義できます。</p>
<p>データのタイプには、数字、文字列、オブジェクト、配列が使えます。</p>
<h3 id="テンプレートファイルでコンフィグファイルのデータを使用する例"><a href="#テンプレートファイルでコンフィグファイルのデータを使用する例" class="headerlink" title="テンプレートファイルでコンフィグファイルのデータを使用する例"></a>テンプレートファイルでコンフィグファイルのデータを使用する例</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% block title %&#125; &#123;&#123; page.title &#125;&#125; | &#123;&#123; config.title &#125;&#125; &#123;% endblock %&#125;</span><br></pre></td></tr></table></figure>



<h2 id="5-hexoの既存変数"><a href="#5-hexoの既存変数" class="headerlink" title="5. hexoの既存変数"></a>5. hexoの既存変数</h2><p>hexoには既にいろんな変数が定義されていて、よく使われている変数は下記となります。</p>
<p><code>site</code>：サイト全体のデータオブジェクト， <code>site.posts.length</code> がよくページングで使われています。</p>
<ul>
<li><code>site.posts</code> ：全てのポスト</li>
<li><code>site.pages</code>：全てのページ</li>
<li><code>site.categories</code> ：全ての分類</li>
<li><code>site.tags</code> ：全てのタッグ</li>
</ul>
<p><code>page</code>：今画面にある文章のインフォメーション， <code>page.posts</code>は今のもので、  <code>site.posts</code>は全ての文章となります。</p>
<p><code>config</code>：<code>config</code> 変数<strong>プロジェクト直下</strong>配置しているで<code>_config.yml</code>ファイルの中に定義されているデータが取れます。</p>
<p><code>theme</code>：<code>theme</code> 変数で<strong>テーマフォルダー</strong>の下に配置している <code>_config.yml</code> ファイルの中に定義されているデータが取れます。</p>
<p><code>path</code>：今のパス（ルートパスは含まれていない）。</p>
<p><code>url</code>：ページの前URL。</p>
<h2 id="６-まとめ"><a href="#６-まとめ" class="headerlink" title="６.まとめ"></a>６.まとめ</h2><p>一言なら、hexoは、我々がmakedownで書いてる内容とテーマテンプレートと合わせて、HTMLファイルなどを自動的に作成するツール（フレームワーク）です。</p>
<p>初心者やゼロからブログサイトを作る方にとってはとても便利で効率高いツールです。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          見出し
        </li>
        <li class="sidebar-nav-overview">
          概要
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Puiken</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/puiken_blog/archives/">
        
          <span class="site-state-item-count">7</span>
          <span class="site-state-item-name">ポスト</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/puiken_blog/categories/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">カテゴリ</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Puiken</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="単語の総数">20k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="読書の合計時間">18 分</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/puiken_blog/lib/anime.min.js"></script>
  <script src="/puiken_blog/lib/velocity/velocity.min.js"></script>
  <script src="/puiken_blog/lib/velocity/velocity.ui.min.js"></script>

<script src="/puiken_blog/js/utils.js"></script>

<script src="/puiken_blog/js/motion.js"></script>


<script src="/puiken_blog/js/schemes/muse.js"></script>


<script src="/puiken_blog/js/next-boot.js"></script>




  















  

  

  <script src="//cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@3.0.8/js/maodian.js"></script>


</body>
</html>
